<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="result"></div>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        const apiKey = 'c2800e56a1750b27e8b62aa287e61b69'

        async function getWeather() {
            const city = "seoul"
            const url = `https://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${apiKey}&units=metric&lang=kr`;

            try {
                const res = await axios.get(url);
                console.log(res);
                const data = res.data;

                const resultDiv = document.querySelector("#result");
                resultDiv.insertAdjacentHTML("beforeend", insertWeatherHtml(data))
            }
            catch(error) {
                alert("도시를 찾을 수 없습니다.")
            }
        }

        getWeather();

        function insertWeatherHtml(data) {
            return `
            <h2>${data.city.name} 날씨 </h2>
            <p>기온 : ${data.list[0].main.temp} 도 </p>
            <p>날씨 : ${data.list[0].weather[0].description} </p>
            <p>습도 : ${data.list[0].main.humidity} % </p>
            <p>픙속 : ${data.list[0].wind.speed} m/s </p>
            `
        }
    </script>
</body>
</html>